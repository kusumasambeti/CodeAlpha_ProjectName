import os

def track_portfolio():
    # Hardcoded dictionary for stock prices (as of a hypothetical date)
    stock_prices = {
        "AAPL": 180.00,
        "TSLA": 250.00,
        "GOOGL": 140.00,
        "AMZN": 175.00,
        "MSFT": 420.00,
        "NVDA": 120.00
    }

    print("Welcome to the Simple Stock Portfolio Tracker.")
    print("Available stocks and their prices:")
    for stock, price in stock_prices.items():
        print(f"{stock}: ${price:.2f}")

    portfolio = {}
    total_investment = 0.0

    while True:
        stock_symbol = input("Enter a stock symbol (e.g., AAPL) or 'done' to finish: ").strip().upper()
        if stock_symbol == 'DONE':
            break

        if stock_symbol in stock_prices:
            try:
                quantity = int(input(f"Enter the quantity of {stock_symbol}: ").strip())
                if quantity <= 0:
                    print("Quantity must be a positive integer.")
                    continue

                portfolio[stock_symbol] = quantity
                stock_value = quantity * stock_prices[stock_symbol]
                total_investment += stock_value
                print(f"Added {quantity} shares of {stock_symbol} worth ${stock_value:.2f}.")
            except ValueError:
                print("Invalid quantity. Please enter a whole number.")
        else:
            print(f"'{stock_symbol}' not found in our price list. Please choose from the available stocks.")

    print("\n--- Portfolio Summary ---")
    summary_lines = []
    for symbol, quantity in portfolio.items():
        price = stock_prices[symbol]
        value = quantity * price
        line = f"{symbol}: {quantity} shares @ ${price:.2f} each | Total Value: ${value:.2f}"
        print(line)
        summary_lines.append(line)

    print(f"\nTotal Portfolio Investment Value: ${total_investment:.2f}")
    summary_lines.append(f"\nTotal Portfolio Investment Value: ${total_investment:.2f}")

    # Optional: Save results to a file
    save_option = input("\nDo you want to save this summary to a file? (yes/no): ").strip().lower()
    if save_option == 'yes':
        filename = "portfolio_summary.txt"
        try:
            with open(filename, 'w') as f:
                for line in summary_lines:
                    f.write(line + "\n")
            print(f"Portfolio summary successfully saved to {os.path.abspath(filename)}")
        except IOError as e:
            print(f"Error saving file: {e}")

if __name__ == "__main__":
    track_portfolio()